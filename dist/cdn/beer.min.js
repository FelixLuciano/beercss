(()=>{const k=()=>"fxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)}),m=(e,t)=>{try{return e instanceof HTMLElement?e:(t||document).querySelector(e)}catch{}},u=(e,t)=>{try{return Array.isArray(e)?e:(t||document).querySelectorAll(e)}catch{}},a=(e,t)=>e?e.classList.contains(t):!1,s=(e,t)=>{!e||e.classList.add(t)},l=(e,t)=>{!e||e.classList.remove(t)},v=(e,t,r)=>{e.addEventListener(t,r,!0)},w=(e,t,r)=>{e.removeEventListener(t,r,!0)},T=(e,t)=>{if(!!t)return t.parentNode.insertBefore(e,t)},E=e=>{if(!!e)return e.previousElementSibling},p=e=>{if(!!e)return e.parentNode},A=e=>{let t=document.createElement("div");for(let r in e)t[r]=e[r];return t},h=e=>{let t=p(e),r=m("label",t),i=a(t,"border")&&!a(t,"fill");if(document.activeElement==e||e.value||/date|time/.test(e.type)){if(i&&r){let n=a(r,"active")?r.offsetWidth:Math.round(r.offsetWidth/1.33),o=a(t,"round")?20:12,d=n+o+8;e.style.clipPath=`polygon(0% 0%, ${o}rem 0%, ${o}rem 8rem, ${d}rem 8rem, ${d}rem 0%, 100% 0%, 100% 100%, 0% 100%)`}else e.style.clipPath="";s(r,"active")}else l(r,"active"),e.style.clipPath="";e.getAttribute("data-ui")&&x(e)},$=e=>{if(!/input/i.test(e.tagName))return x(e.currentTarget)},C=e=>{m("input:not([type=file]):not([type=checkbox]):not([type=radio]), select, textarea",p(e.currentTarget)).focus()},g=e=>{h(e.currentTarget)},L=e=>{h(e.currentTarget)},b=e=>{u(".dropdown.active").forEach(r=>{l(r,"active")}),w(e.currentTarget,"click",b)},P=e=>{l(e.currentTarget,"active"),f&&clearTimeout(f)};let f=null;const x=(e,t,r)=>{if(t||(t=m(e.getAttribute("data-ui"))),a(t,"modal"))return N(e,t);if(a(t,"dropdown"))return B(e,t);if(a(t,"toast"))return S(e,t,r);if(a(t,"page"))return q(e,t);if(a(t,"progress"))return D(e,t,r);if(y(e),a(t,"active"))return l(t,"active");s(t,"active")},y=(e,t,r)=>{let i=p(e);if(!a(i,"tabs"))return;u("a",i).forEach(n=>{l(n,"active")}),s(e,"active")},q=(e,t,r)=>{y(e);let i=p(t);for(let c=0;c<i.children.length;c++)a(i.children[c],"page")&&l(i.children[c],"active");s(t,"active")},B=(e,t,r)=>{if(y(e),a(t,"active"))return l(t,"active");u(".dropdown.active").forEach(c=>{l(c,"active")}),s(t,"active"),v(document,"click",b)},N=(e,t,r)=>{y(e);let i=E(t);a(i,"overlay")||(i=A({className:"overlay active"}),T(i,t)),i.onclick=()=>{l(e,"active"),l(t,"active"),l(i,"active")};let c=a(t,"active"),n=p(t);a(n,"menu")&&u(".menu > .modal, .menu > a, .menu > .overlay").forEach(d=>{l(d,"active")}),c?(l(e,"active"),l(i,"active"),l(t,"active")):(s(e,"active"),s(i,"active"),s(t,"active"))},S=(e,t,r)=>{y(e),u(".toast.active").forEach(c=>{l(c,"active")}),s(t,"active"),v(t,"click",P),f&&clearTimeout(f),!(r&&r==-1)&&(f=setTimeout(()=>{l(t,"active")},r&&r?r:6e3))},D=(e,t,r)=>{if(a(t,"left"))return t.style.clipPath=`polygon(0% 0%, 0% 100%, ${r}% 100%, ${r}% 0%)`;if(a(t,"top"))return t.style.clipPath=`polygon(0% 0%, 100% 0%, 100% ${r}%, 0% ${r}%)`;if(a(t,"right"))return t.style.clipPath=`polygon(100% 0%, 100% 100%, ${100-r}% 100%, ${100-r}% 0%)`;if(a(t,"bottom"))return t.style.clipPath=`polygon(0% 100%, 100% 100%, 100% ${100-r}%, 0% ${100-r}%)`},I=e=>{let t={light:"",dark:"",selected:"light"};if(!window.materialDynamicColors)return t;if(!e)return document.body.removeAttribute("style"),t;if(e.from&&e.mode&&e.from[e.mode]){let r={light:e.from.light,dark:e.from.dark,selected:e.mode};return document.body.setAttribute("style",r[e.mode]),r}return window.materialDynamicColors(e.from).then(r=>{const i=n=>{let o="";for(var d in n){let W=d.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase();o+="--"+W+": "+n[d]+";"}return o};let c={light:i(r.light)+"--active: rgba(0,0,0,.1);--mode: light;",dark:i(r.dark)+"--active: rgba(255,255,255,.2);--mode: dark;",selected:e.mode};return document.body.setAttribute("style",c[e.mode]),c})},M=(e,t)=>{if(e){if(e=="guid")return k();if(e=="theme")return I(t);let n=m(e),o=m("[data-ui='#"+n.id+"']");return x(o,n,t)}u("[data-ui]").forEach(n=>{v(n,"click",$)}),u(".field > label").forEach(n=>{v(n,"click",C)}),u(".field > input:not([type=file]):not([type=checkbox]):not([type=radio]), .field > select, .field > textarea").forEach(n=>{v(n,"focus",g),v(n,"blur",L),h(n)})};window.ui=M})();
