(()=>{const w=()=>"fxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)}),p=(e,t)=>{try{return e instanceof HTMLElement?e:(t||document).querySelector(e)}catch{}},s=(e,t)=>{try{return Array.isArray(e)?e:(t||document).querySelectorAll(e)}catch{}},a=(e,t)=>e?e.classList.contains(t):!1,o=(e,t)=>{!e||e.classList.add(t)},l=(e,t)=>{!e||e.classList.remove(t)},d=(e,t,r)=>{e.addEventListener(t,r,!0)},E=(e,t,r)=>{e.removeEventListener(t,r,!0)},A=(e,t)=>{if(!!t)return t.parentNode.insertBefore(e,t)},k=e=>{if(!!e)return e.previousElementSibling},g=e=>{if(!!e)return e.nextElementSibling},f=e=>{if(!!e)return e.parentNode},$=e=>{let t=document.createElement("div");for(let r in e)t[r]=e[r];return t},h=e=>{let t=f(e),r=p("label",t),n=a(t,"border")&&!a(t,"fill");if(document.activeElement==e||e.value||/date|time/.test(e.type)){if(n&&r){let v=a(r,"active")?r.offsetWidth:Math.round(r.offsetWidth/1.33),i=a(t,"round")?20:12,u=v+i+8;e.style.clipPath=`polygon(0% 0%, ${i}rem 0%, ${i}rem 8rem, ${u}rem 8rem, ${u}rem 0%, 100% 0%, 100% 100%, 0% 100%)`}else e.style.clipPath="";o(r,"active")}else l(r,"active"),e.style.clipPath="";e.getAttribute("data-ui")&&b(e)},C=e=>{if(!/input/i.test(e.tagName))return b(e.currentTarget)},L=e=>{let t=p("input:not([type=file]):not([type=checkbox]):not([type=radio]), select, textarea",f(e.currentTarget));t&&t.focus()},P=e=>{h(e.currentTarget)},S=e=>{h(e.currentTarget)},T=e=>{s(".dropdown.active").forEach(r=>{l(r,"active")}),E(e.currentTarget,"click",T)},q=e=>{l(e.currentTarget,"active"),m&&clearTimeout(m)},B=e=>{x(e.currentTarget)},F=e=>{x(e.currentTarget,e)},x=(e,t)=>{if(t){if(t.key!=="Enter")return;let n=g(t.currentTarget);return!n||!/file/i.test(n.type)?void 0:n.click()}let r=k(e);!r||!/text/i.test(r.type)||(r.value=Array.from(e.files).map(n=>n.name).join(", "),r.setAttribute("readonly",!0),r.addEventListener("keydown",F),h(r))};let m=null;const b=(e,t,r)=>{if(t||(t=p(e.getAttribute("data-ui"))),a(t,"modal"))return I(e,t);if(a(t,"dropdown"))return D(e,t);if(a(t,"toast"))return M(e,t,r);if(a(t,"page"))return N(e,t);if(a(t,"progress"))return W(e,t,r);if(y(e),a(t,"active"))return l(t,"active");o(t,"active")},y=e=>{let t=f(e);if(!a(t,"tabs"))return;s("a",t).forEach(n=>{l(n,"active")}),o(e,"active")},N=(e,t,r)=>{y(e);let n=f(t);for(let c=0;c<n.children.length;c++)a(n.children[c],"page")&&l(n.children[c],"active");o(t,"active")},D=(e,t,r)=>{if(y(e),a(t,"active"))return l(t,"active");s(".dropdown.active").forEach(c=>{l(c,"active")}),o(t,"active"),d(document,"click",T)},I=(e,t,r)=>{y(e);let n=k(t);a(n,"overlay")||(n=$({className:"overlay active"}),A(n,t)),n.onclick=()=>{l(e,"active"),l(t,"active"),l(n,"active")};let c=a(t,"active"),v=f(t);a(v,"menu")&&s(".menu > .modal, .menu > a, .menu > .overlay").forEach(u=>{l(u,"active")}),c?(l(e,"active"),l(n,"active"),l(t,"active")):(o(e,"active"),o(n,"active"),o(t,"active"))},M=(e,t,r)=>{y(e),s(".toast.active").forEach(c=>{l(c,"active")}),o(t,"active"),d(t,"click",q),m&&clearTimeout(m),!(r&&r==-1)&&(m=setTimeout(()=>{l(t,"active")},r&&r?r:6e3))},W=(e,t,r)=>{if(a(t,"left"))return t.style.clipPath=`polygon(0% 0%, 0% 100%, ${r}% 100%, ${r}% 0%)`;if(a(t,"top"))return t.style.clipPath=`polygon(0% 0%, 100% 0%, 100% ${r}%, 0% ${r}%)`;if(a(t,"right"))return t.style.clipPath=`polygon(100% 0%, 100% 100%, ${100-r}% 100%, ${100-r}% 0%)`;if(a(t,"bottom"))return t.style.clipPath=`polygon(0% 100%, 100% 100%, 100% ${100-r}%, 0% ${100-r}%)`},Z=e=>{let t={light:"",dark:"",selected:"light"};if(!window.materialDynamicColors)return t;if(!e)return document.body.removeAttribute("style"),t;if(e.from&&e.mode&&e.from[e.mode]){let r={light:e.from.light,dark:e.from.dark,selected:e.mode};return document.body.setAttribute("style",r[e.mode]),r}return window.materialDynamicColors(e.from).then(r=>{const n=v=>{let i="";for(var u in v){let H=u.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase();i+="--"+H+": "+v[u]+";"}return i};let c={light:n(r.light)+"--active: rgba(0,0,0,.1);--mode: light;",dark:n(r.dark)+"--active: rgba(255,255,255,.2);--mode: dark;",selected:e.mode};return document.body.setAttribute("style",c[e.mode]),c})},z=(e,t)=>{if(e){if(e=="guid")return w();if(e=="theme")return Z(t);let i=p(e),u=p("[data-ui='#"+i.id+"']");return b(u,i,t)}s("[data-ui]").forEach(i=>{d(i,"click",C)}),s(".field > label").forEach(i=>{d(i,"click",L)}),s(".field > input:not([type=file]):not([type=checkbox]):not([type=radio]), .field > select, .field > textarea").forEach(i=>{d(i,"focus",P),d(i,"blur",S),h(i)}),s(".field > input[type=file]").forEach(i=>{d(i,"change",B),x(i)})};window.ui=z})();
