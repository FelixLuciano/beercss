export default(()=>{const y=globalThis;let f=null,k=null,T=null;const l={light:"",dark:""},A=async t=>await new Promise(e=>setTimeout(e,t)),P=()=>"fxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)}),v=(t,e)=>{try{return typeof t=="string"?(e||document).querySelector(t):t}catch{}},u=(t,e)=>{try{return typeof t=="string"?(e||document).querySelectorAll(t):t}catch{}},i=(t,e)=>t?t.classList.contains(e):!1,d=(t,e)=>{!t||t.classList.add(e)},c=(t,e)=>{!t||t.classList.remove(e)},p=(t,e,n)=>{t.addEventListener(e,n,!0)},N=(t,e,n)=>{t.removeEventListener(e,n,!0)},S=(t,e)=>{if(!!e)return e.parentNode.insertBefore(t,e)},w=t=>{if(!!t)return t.previousElementSibling},D=t=>{if(!!t)return t.nextElementSibling},h=t=>{if(!!t)return t.parentElement},M=t=>{const e=document.createElement("div");for(const n in t)e[n]=t[n];return e},x=t=>{const e=t,n=h(t),r=v("label",n),o=i(n,"border")&&!i(n,"fill");if(document.activeElement==t||e.value||/date|time/.test(e.type)){if(o&&r){let a=i(r,"active")?r.offsetWidth:Math.round(r.offsetWidth/1.33);a=a/16;const m=i(n,"round")?1.25:.75,$=a+m+.5;e.style.clipPath=`polygon(0% 0%, ${m}rem 0%, ${m}rem 0.5rem, ${$}rem 0.5rem, ${$}rem 0%, 100% 0%, 100% 100%, 0% 100%)`}else e.style.clipPath="";d(r,"active")}else c(r,"active"),e.style.clipPath="";t.getAttribute("data-ui")&&C(t)},_=t=>{const e=t.currentTarget;/input/i.test(e.tagName)||C(e)},q=t=>{const e=t.currentTarget,n=v("input:not([type=file]):not([type=checkbox]):not([type=radio]), select, textarea",h(e));n&&n.focus()},B=t=>{const e=t.currentTarget;x(e)},F=t=>{const e=t.currentTarget;x(e)},L=t=>{const e=t.currentTarget;u(".dropdown.active").forEach(r=>c(r,"active")),N(e,"click",L)},I=t=>{const e=t.currentTarget;c(e,"active"),f&&clearTimeout(f)},O=t=>{const e=t.currentTarget;E(e)},V=t=>{const e=t.currentTarget;E(e,t)},W=()=>{k&&clearTimeout(k),k=setTimeout(b,180)},E=(t,e)=>{if(e){if(e.key!=="Enter")return;const o=e.currentTarget,s=D(o);return!s||!/file/i.test(s.type)?void 0:s.click()}const n=t,r=w(t);!r||!/text/i.test(r.type)||(r.value=Array.from(n.files).map(o=>o.name).join(", "),r.readOnly=!0,r.addEventListener("keydown",V),x(r))},C=(t,e,n)=>{if(e||(e=v(t.getAttribute("data-ui"))),i(e,"modal"))return K(t,e);if(i(e,"dropdown"))return z(t,e);if(i(e,"toast"))return j(t,e,n);if(i(e,"page"))return Z(t,e);if(i(e,"progress"))return G(e,n);if(g(t),i(e,"active"))return c(e,"active");d(e,"active")},g=t=>{const e=h(t);if(!i(e,"tabs"))return;u("a",e).forEach(r=>c(r,"active")),d(t,"active")},Z=(t,e)=>{g(t);const n=h(e);for(let r=0;r<n.children.length;r++)i(n.children[r],"page")&&c(n.children[r],"active");d(e,"active")},z=(t,e)=>{if(g(t),i(e,"active"))return c(e,"active");u(".dropdown.active").forEach(r=>c(r,"active")),d(e,"active"),p(document.body,"click",L)},K=async(t,e)=>{g(t);let n=w(e);i(n,"overlay")||(n=M({className:"overlay"}),S(n,e),await A(90)),n.onclick=()=>{c(t,"active"),c(e,"active"),c(n,"active")};const r=i(e,"active"),o=h(e);/nav/i.test(o.tagName)&&u(".modal, a, .overlay",o).forEach(a=>c(a,"active")),r?(c(t,"active"),c(n,"active"),c(e,"active")):(!/button/i.test(t.tagName)&&!i(t,"button")&&!i(t,"chip")&&d(t,"active"),d(n,"active"),d(e,"active"))},j=(t,e,n)=>{g(t),u(".toast.active").forEach(o=>c(o,"active")),d(e,"active"),p(e,"click",I),f&&clearTimeout(f),!(n&&n==-1)&&(f=setTimeout(()=>{c(e,"active")},n&&n?n:6e3))},G=(t,e)=>{const n=t;if(i(n,"left"))return n.style.clipPath=`polygon(0% 0%, 0% 100%, ${e}% 100%, ${e}% 0%)`;if(i(n,"top"))return n.style.clipPath=`polygon(0% 0%, 100% 0%, 100% ${e}%, 0% ${e}%)`;if(i(n,"right"))return n.style.clipPath=`polygon(100% 0%, 100% 100%, ${100-e}% 100%, ${100-e}% 0%)`;if(i(n,"bottom"))return n.style.clipPath=`polygon(0% 100%, 100% 100%, 100% ${100-e}%, 0% ${100-e}%)`},H=()=>{if(l.light&&l.dark)return l;const t=document.createElement("body");t.className="light",document.body.appendChild(t);const e=document.createElement("body");e.className="dark",document.body.appendChild(e);const n=getComputedStyle(t),r=getComputedStyle(e),o=["--primary","--on-primary","--primary-container","--on-primary-container","--secondary","--on-secondary","--secondary-container","--on-secondary-container","--tertiary","--on-tertiary","--tertiary-container","--on-tertiary-container","--error","--on-error","--error-container","--on-error-container","--background","--on-background","--surface","--on-surface","--outline","--surface-variant","--on-surface-variant","--inverse-surface","--inverse-on-surface"];for(let s=0;s<o.length;s++)l.light+=o[s]+":"+n.getPropertyValue(o[s])+";",l.dark+=o[s]+":"+r.getPropertyValue(o[s])+";";return document.body.removeChild(t),document.body.removeChild(e),l},J=t=>{if(!t||!y.materialDynamicColors)return H();const e=/dark/i.test(document.body.className)?"dark":"light";return t&&t.light&&t.dark?(l.light=t.light,l.dark=t.dark,document.body.setAttribute("style",t[e]),t):y.materialDynamicColors(t).then(n=>{const r=o=>{let s="";for(const a in o){const m=a.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase();s+="--"+m+":"+o[a]+";"}return s};return l.light=r(n.light),l.dark=r(n.dark),document.body.setAttribute("style",l[e]),l})},Q=t=>t?(document.body.classList.remove("light","dark"),document.body.classList.add(t),y.materialDynamicColors&&document.body.setAttribute("style",l[t]),t):/dark/i.test(document.body.className)?"dark":"light",R=()=>{T||(T=new MutationObserver(W),T.observe(document.body,{childList:!0,subtree:!0}),b())},b=(t,e)=>{if(t){if(t=="setup")return R();if(t=="guid")return P();if(t=="mode")return Q(e);if(t=="theme")return J(e);const a=v(t),m=v("[data-ui='#"+a.id+"']");C(m,a,e)}u("[data-ui]").forEach(a=>p(a,"click",_)),u(".field > label").forEach(a=>p(a,"click",q)),u(".field > input:not([type=file]):not([type=checkbox]):not([type=radio]), .field > select, .field > textarea").forEach(a=>{p(a,"focus",B),p(a,"blur",F),x(a)}),u(".field > input[type=file]").forEach(a=>{p(a,"change",O),E(a)})};return y.addEventListener&&y.addEventListener("load",()=>b("setup")),y.beercss=b,y.ui=b,y.ui})();
